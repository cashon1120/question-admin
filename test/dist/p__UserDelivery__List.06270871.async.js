(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{en5G:function(e,t,a){"use strict";var n=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Ubc6");var i=l(a("far6"));a("rVLg");var r=l(a("EmQR")),d=l(a("mK77")),s=l(a("43Yg")),o=l(a("/tCh")),c=l(a("scpF")),u=l(a("O/V9")),f=l(a("8aBX"));a("880f");var h=l(a("lNJz")),p=n(a("i9FB")),m=a("LneV");a("SX54");var v=l(a("cPMy")),y=l(a("CEDc")),g=h.default.confirm,k=function(e){function t(){var e;return(0,s.default)(this,t),e=(0,c.default)(this,(0,u.default)(t).apply(this,arguments)),e.state={loading:!1,modalVisible:!1,selectedRowKeys:[],searchData:{name:"",status:"",startTime:"",endTime:""},pageInfo:{pageSize:10,pageNumber:1}},e.columns=[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u7535\u8bdd",dataIndex:"phone",key:"phone"},{title:"\u5b66\u5386",dataIndex:"education",key:"education"},{title:"\u5ba1\u6838\u72b6\u6001",key:"is_delivery",render:function(e){var t="";switch(e.is_delivery){case 1:t="\u5f85\u5ba1\u6838";break;case 2:t="\u5ba1\u6838\u672a\u901a\u8fc7";break;case 3:t="\u5ba1\u6838\u901a\u8fc7";break;default:t="\u672a\u6295\u9012";break}return t}},{title:"\u64cd\u4f5c",width:200,render:function(t){return 1===t.is_delivery?p.default.createElement("div",{className:"table-operate"},p.default.createElement("a",{onClick:function(){return e.hadleCheckOut(t.delivery_id,3)}},"\u901a\u8fc7\u5ba1\u6838"),p.default.createElement("a",{onClick:function(){return e.hadleCheckOut(t.delivery_id,2)}},"\u4e0d\u901a\u8fc7")):null}}],e.handleTriggerModal=function(){var t=e.state.modalVisible;e.setState({modalVisible:!t})},e.handleSelectRows=function(t){e.setState({selectedRowKeys:t})},e.getSerarchColumns=function(){var e=[{title:"\u59d3\u540d",dataIndex:"name",componentType:"Input"},{title:"\u7535\u8bdd",dataIndex:"phone",componentType:"Input"},,{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"isDelivery",componentType:"Select",dataSource:[{id:0,value:"\u672a\u6295\u9012"},{id:1,value:"\u5f85\u5ba1\u6838"},{id:2,value:"\u5ba1\u6838\u672a\u901a\u8fc7"},{id:3,value:"\u5ba1\u6838\u901a\u8fc7"}]}];return e},e.handleSearch=function(t){var a=e.state.searchData;e.setState({searchData:(0,d.default)({},a,t)},function(){e.initData()})},e.handleFormReset=function(){e.setState({searchData:{}},function(){e.initData()})},e.exportFiel=function(){var t=e.props.dispatch,a=e.state.selectedRowKeys;0!==a.length?t&&t({type:"userDelivery/exportFile",payload:{}}):r.default.error("\u8bf7\u52fe\u9009\u8981\u5bfc\u51fa\u7684\u6570\u636e")},e.hadleCheckOut=function(t,a){var n=e.props.dispatch,l=function(t){t.success?(r.default.success("\u64cd\u4f5c\u6210\u529f"),e.initData()):r.default.error(t.data)},i="\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u8003\u751f\u5373\u53ef\u626b\u63cf\u4e8c\u7ef4\u7801\u8003\u8bd5\uff0c\u662f\u5426\u901a\u8fc7\u5ba1\u6838";2===a&&(i="\u786e\u5b9a\u8981\u62d2\u7edd\u901a\u8fc7\u5417?"),g({title:"\u5ba1\u6838\u4fe1\u606f",content:i,onOk:function(){n&&n({type:"userDelivery/checkOut",payload:{deliveryId:t,state:a},callback:l})}})},e}return(0,f.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(e){var t=this.props.dispatch,a=this.state,n=a.pageInfo,l=a.searchData,i={};for(var r in l)l[r]&&(i[r]=l[r]);e&&this.setState({pageInfo:{pageNumber:e.pageNumber,pageSize:e.pageSize}}),t&&t({type:"userDelivery/fetch",payload:(0,d.default)({sysUserId:localStorage.getItem("sysUserId")},i,n,e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.loading,l=this.state.selectedRowKeys;return p.default.createElement(i.default,null,p.default.createElement("div",{className:"flex-container"},p.default.createElement("div",{className:"flex-1"},p.default.createElement(y.default,{columns:this.getSerarchColumns(),handleSearch:this.handleSearch,handleFormReset:this.handleFormReset}))),p.default.createElement(v.default,{showSelectRow:!0,rowKey:"delivery_id",columns:this.columns,data:a||[],loading:n,onChangeCombine:function(t){return e.initData(t)},onSelectRow:this.handleSelectRows,selectedRowKeys:l}))}}]),t}(p.Component),S=(0,m.connect)(function(e){var t=e.userDelivery,a=e.loading;return{data:t.data,loading:a.models.userDelivery}})(k);t.default=S}}]);