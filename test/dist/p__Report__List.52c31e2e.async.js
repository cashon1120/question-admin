(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{H134:function(e,t,a){"use strict";var n=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("kqFD");var r=l(a("LKgu"));a("Ubc6");var o=l(a("far6"));a("rVLg");var c=l(a("EmQR")),i=l(a("mK77")),s=l(a("43Yg")),d=l(a("/tCh")),u=l(a("scpF")),f=l(a("O/V9")),p=l(a("8aBX"));a("880f");var m=l(a("lNJz")),h=n(a("i9FB")),y=a("LneV");a("SX54");var v=l(a("+YLN")),g=a("eDcw"),S=l(a("cPMy")),k=l(a("CEDc")),b=m.default.confirm,w=function(e){function t(){var e;return(0,s.default)(this,t),e=(0,u.default)(this,(0,f.default)(t).apply(this,arguments)),e.state={loading:!1,modalVisible:!1,selectedRowKeys:[],searchData:{name:"",status:"",startTime:"",endTime:""},pageInfo:{pageSize:10,pageNumber:1}},e.columns=[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u6295\u9012\u516c\u53f8",dataIndex:"company_name",key:"company_name"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"start_time",key:"start_time"},,{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"end_time",key:"end_time"},{title:"\u5f97\u5206",dataIndex:"score",key:"score"},{title:"\u72b6\u6001",render:function(e){var t="";switch(e.state){case 1:t="\u7b54\u9898\u4e2d";break;case 2:t="\u7b54\u9898\u5b8c\u6210";break;case 3:t="\u7b54\u9898\u5931\u6548";break;default:t="\u4e8c\u7ef4\u7801\u5931\u6548";break}return t}},{title:"\u64cd\u4f5c",render:function(e){return h.default.createElement("div",{className:"table-operate"},h.default.createElement(v.default,{to:"/report/detail/".concat(e.id)},"\u8be6\u60c5"))}}],e.handleTriggerModal=function(){var t=e.state.modalVisible;e.setState({modalVisible:!t})},e.handleSelectRows=function(t){e.setState({selectedRowKeys:t})},e.getSerarchColumns=function(){var e=[{title:"\u59d3\u540d",dataIndex:"name",componentType:"Input"},{title:"\u72b6\u6001",dataIndex:"state",componentType:"Select",dataSource:[{id:1,value:"\u7b54\u9898\u4e2d"},{id:2,value:"\u7b54\u9898\u5b8c\u6210"},{id:3,value:"\u7b54\u9898\u5931\u6548"},{id:4,value:"\u4e8c\u7ef4\u7801\u5931\u6548"}]},{title:"\u5206\u6570",dataIndex:"score",componentType:"NumberRange",col:8}];return e},e.handleSearch=function(t){var a=e.state.searchData,n=null;t.score&&(n="".concat(t.score.start,"a").concat(t.score.end)),e.setState({searchData:(0,i.default)({},a,{name:t.name,state:t.state,score:n})},function(){e.initData()})},e.handleFormReset=function(){e.setState({searchData:{}},function(){e.initData()})},e.exportFiel=function(){var t=e.props.dispatch,a=e.state.selectedRowKeys;0!==a.length?t&&t({type:"report/exportFile",payload:{}}):c.default.error("\u8bf7\u52fe\u9009\u8981\u5bfc\u51fa\u7684\u6570\u636e")},e.hadleCheckOut=function(t){var a=e.props.dispatch,n=function(e){e.success&&c.default.success("\u64cd\u4f5c\u6210\u529f")};b({title:"\u5ba1\u6838\u4fe1\u606f",content:"\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u8003\u751f\u5373\u53ef\u626b\u63cf\u4e8c\u7ef4\u7801\u8003\u8bd5\uff0c\u662f\u5426\u901a\u8fc7\u5ba1\u6838\uff1f",onOk:function(){a&&a({type:"report/checkOut",payload:{id:t},callback:n})}})},e}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(e){var t=this.props.dispatch,a=this.state,n=a.pageInfo,l=a.searchData,r={};for(var o in l)l[o]&&(r[o]=l[o]);e&&this.setState({pageInfo:{pageNumber:e.pageNumber,pageSize:e.pageSize}}),t&&t({type:"report/fetch",payload:(0,i.default)({sysUserId:localStorage.getItem("sysUserId")},r,n,e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.loading,l=this.state.selectedRowKeys;return h.default.createElement(g.PageHeaderWrapper,null,h.default.createElement(o.default,null,h.default.createElement("div",{className:"flex-container"},h.default.createElement("div",{className:"flex-1"},h.default.createElement(k.default,{columns:this.getSerarchColumns(),handleSearch:this.handleSearch,handleFormReset:this.handleFormReset})),h.default.createElement("div",null,h.default.createElement(r.default,{type:"primary",onClick:this.exportFiel},"\u5bfc\u51fa\u8be6\u60c5"))),h.default.createElement(S.default,{showSelectRow:!0,rowKey:"id",columns:this.columns,data:a||[],loading:n,onChangeCombine:function(t){return e.initData(t)},onSelectRow:this.handleSelectRows,selectedRowKeys:l})))}}]),t}(h.Component),I=(0,y.connect)(function(e){var t=e.report,a=e.loading;return{data:t.data,loading:a.models.report}})(w);t.default=I}}]);